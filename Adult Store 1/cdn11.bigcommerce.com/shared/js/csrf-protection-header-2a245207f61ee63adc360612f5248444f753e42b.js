!function(){function e(e="XSRF-TOKEN"){var t=document.cookie.match("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""}function t(e){return!!e.match(new RegExp("^(https?:)?//"+window.location.hostname))||!e.match(new RegExp("^(https?:)?//"))}function n(e,t){return(!e||"GET"===e.toUpperCase())&&/\.(png|gif|jpe?g|css|js|json|svg|html?)$/.test(t.split("?")[0])}function s(t){t.headers=t.headers||{};t.headers.append?(t.headers.delete("X-XSRF-TOKEN"),t.headers.append("X-XSRF-TOKEN",e()),t.headers.delete("X-SF-CSRF-TOKEN"),t.headers.append("X-SF-CSRF-TOKEN",e("SF-CSRF-TOKEN"))):(t.headers["X-XSRF-TOKEN"]=e(),t.headers["X-SF-CSRF-TOKEN"]=e("SF-CSRF-TOKEN"))}var i=Object.getPrototypeOf(new window.XMLHttpRequest),r=i.open,o=i.send;function a(t){var n=document.createElement("input"),s=t.target.getAttribute("action");null!=s&&function(e,t){for(var n=0;n<t.length;n++)if(e&&e.match(t[n]))return!0;return!1}(s,d)&&(t.target.method="POST"),t.target.querySelector('input[name="authenticity_token"]')||"post"===t.target.method.toLowerCase()&&(n.setAttribute("type","hidden"),n.setAttribute("name","authenticity_token"),n.setAttribute("value",e()),t.target.appendChild(n))}if(i.open=function(){return this._isLocalRequest=t(arguments[1]),this._isAssetRequest=n(arguments[0],arguments[1]),r.apply(this,arguments)},i.send=function(){return this._isLocalRequest&&!this._isAssetRequest&&(this.setRequestHeader("X-XSRF-TOKEN",e()),this.setRequestHeader("X-SF-CSRF-TOKEN",e("SF-CSRF-TOKEN"))),o.apply(this,arguments)},window.$&&window.$.fn&&window.$.fn.jquery?$(document).submit(a):document.addEventListener("submit",a),window.fetch){var u=window.fetch;window.fetch=function(e,i){if(window.Request){var r=new Request(e,i);return t(r.url)&&!n(r.method,r.url)&&s(r),u(r)}var o=e,a=i||{};return t(o)&&!n(a.method,o)&&s(a),u(o,a)}}var d=[new RegExp("^"+window.location.origin+"/wishlist.php"),new RegExp("^/?wishlist.php")]}();
//# sourceMappingURL=csrf-protection-header-2a245207f61ee63adc360612f5248444f753e42b.js.map
